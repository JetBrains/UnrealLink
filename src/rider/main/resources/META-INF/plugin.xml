<idea-plugin allow-bundled-update="true">
  <id>unreal-link</id>
  <name>UnrealLink</name>
  <version>_PLACEHOLDER_</version>
  <vendor url="https://www.jetbrains.com/">JetBrains</vendor>
  <idea-version since-build="_PLACEHOLDER_" until-build="_PLACEHOLDER_" />
  <depends>com.intellij.modules.rider</depends>

  <description><![CDATA[
    <p>The UnrealLink plugin enables advanced integration between JetBrains
    <a href="https://www.jetbrains.com/lp/rider-unreal/">Rider</a> and Epic Games’
    <a href="https://www.unrealengine.com/en-US/">Unreal Editor</a>.</p>

    <p>Rider is a fast and powerful IDE for Unreal Engine and C++ development. It provides rich code navigation,
    inspections, refactorings, understands Blueprints and the Unreal Engine reflection mechanism, and supports HLSL.
    The <em>Unreal Engine edition </em>of Rider is currently available as a free Early Preview for Windows only.
    <a href="https://www.jetbrains.com/rider/unreal/">Join the Early Preview</a>.</p>

    <p>The plugin brings Blueprints information to the editor, adds settings to manage game launch, and provides
    a more convenient version of the Unreal Editor log.</p>

    <h2>Plugin structure</h2>
    <p>There are two plugins under the hood, the <strong>UnrealLink</strong> plugin for Rider and
    the <strong>RiderLink</strong> plugin for Unreal Editor, packed together.</p>

    <h2>Installation</h2>
    <p><strong>UnrealLink</strong> is bundled with Rider. Starting with Rider for Unreal Engine 2020.2.1, it’s also
    distributed via the JetBrains plugin <a href="https://plugins.jetbrains.com/plugin/14989-unreal-link">marketplace</a>.
    </p>

    <p><strong>RiderLink</strong> is installed by Rider itself, there is no need to install it manually. The first
    time you open an Unreal Engine project in Rider, you'll see a notification that the RiderLink plugin is missing
    and an invitation to install it. If you skip this popup message, you can install the plugin later by going to the
    Rider settings on the <em>Languages and Frameworks | Unreal Engine</em> page.</p>

    <p>Both the popup message and the settings page offer two installation options:</p>
    <ul>
      <li>
        <em>Engine</em>: Select this option to install the plugin in the engine and use it for all game projects based
        on the current engine version. The plugin will appear in the <code>Engine/Plugins/Developer</code> folder.
      </li>
      <li>
        <em>Game</em>: Select this option to install the plugin in the game project and use it for the current project
        only. The plugin will appear in the <code>Game/Plugins/Developer</code> folder.
      </li>
    </ul>

    <h2>Features</h2>
    <h3>Interact with blueprints</h3>
    <p>Blueprint files are written in binary form and are usually edited visually. However, they contain a whole lot
    of useful information for the developers of the C++ part of the game.</p>

    <p>Rider reads Blueprints and allows you to see the bigger picture behind your code:</p>
    <ul>
      <li>
        There may be derived blueprint classes, which you can see by invoking <em>Find Usages</em> on a C++ class or
        when you're browsing your C++ code in the editor.
      </li>
      <li>
        You can see the values of overridden properties.
      </li>
    </ul>

    <p>UnrealLink extends this functionality and introduces the ability to navigate to the Blueprint inside the
    Unreal Editor from your C++ code.</p>

    <h3>Manage the game</h3>
    <p>The plugin allows you to manage your game right inside the IDE: select the running mode, run a server for your
    multiplayer game, specify the number of players, and more.</p>

    <h3>Browse the Unreal Editor log</h3>
    <p>UnrealLink offers you an enhanced version of the Unreal Editor log output panel with colored text for easy
    reading, as well as verbosity and event category filters. You can also click on any highlighted link to navigate
    to the related source code line.</p>

    <p><a href="https://www.jetbrains.com/help/rider/Working_with_Unreal_Engine.html">Learn more about
    Rider for Unreal Engine &gt;&gt;</a></p>

    <h2>What could possibly go wrong?</h2>
    <p>The plugin and Rider for Unreal Engine itself are in active development now, so there could be some issues.
    Please share your feedback and report any bugs you encounter:</p>
    <ul>
      <li>
        Submit plugin-specific issues to the <a href="https://github.com/JetBrains/UnrealLink/issues">GitHub Issues page</a>.
      </li>
      <li>
        Rider-specific issues should be directed to the <a href="https://youtrack.jetbrains.com/issues/RIDER">Rider tracker</a>.
      </li>
      <li>
        Send a message with any questions and feature suggestions to our support engineers and the Rider for
        Unreal Engine developers at <a href="mailto:rider-cpp-support@jetbrains.com">rider-cpp-support@jetbrains.com</a>.
        We really love hearing from you!
      </li>
    </ul>

    <p>A few typical issues, and what to do in such cases:</p>

    <p><b>Failed to build RiderLink plugin</b></p>
    <pre>
      <code>
        Failed to build RiderLink plugin
        Check build logs for more info
        Help &gt; Diagnostic Tools &gt; Show Log in Explorer
        And contact dev team for help at GitHub Issues page
      </code>
    </pre>
    <p>There are several reasons you might get this message:</p>
    <ul>
      <li>
        There’s a problem with your current Game or Unreal Engine code. Please make sure that you can build them
        correctly.
      </li>
      <li>
        You have an instance of Unreal Editor with the RiderLink plugin running. Please close Unreal Editor and
        try installing RiderLink again.
      </li>
      <li>
        Finally, if Unreal Editor is closed and your project builds fine, and you have an old version of RiderLink
        installed, please move the old version of RiderLink to a temp folder manually and try reinstalling RiderLink.
      </li>
    </ul>

    <p><b>Failed to backup old plugin</b></p>
    <pre>
      <code>
        Failed to backup old plugin
        Close all running instances of Unreal Editor and try again
        Path to old plugin:
     </code>
    </pre>
    <p>You tried to install a new version of RiderLink while you have a running instance of Unreal Editor with
    the plugin installed. Please close Unreal Editor and try again to install the plugin.</p>

    <p><b>Failed to refresh project files</b></p>
    <p>This warning message means that installation was successful, but updating the project files in Rider failed.
    Everything should work fine, except the plugin will not appear in the <code>/Plugins/Developer</code> folder
    in the Explorer view.</p>

    <p>If you have any issues with the plugin that you can’t resolve, please contact the developers
    via <a href="https://github.com/JetBrains/UnrealLink/issues">GitHub Issues</a>.</p>
  ]]></description>

  <project-components>
    <component><implementation-class>com.jetbrains.rider.plugins.unreal.UnrealHost</implementation-class></component>
    <component><implementation-class>com.jetbrains.rider.plugins.unreal.UnrealHostSetup</implementation-class></component>
    <component><implementation-class>com.jetbrains.rider.plugins.unreal.toolWindow.UnrealToolWindowFactory</implementation-class></component>
    <component><implementation-class>com.jetbrains.rider.plugins.unreal.toolWindow.UnrealToolWindowManager</implementation-class></component>
    <component><implementation-class>com.jetbrains.rider.plugins.unreal.notifications.OutOfSyncEditorNotification</implementation-class></component>
  </project-components>

  <extensions defaultExtensionNs="com.intellij">
    <statusBarWidgetFactory implementation="com.jetbrains.rider.plugins.unreal.ui.UnrealStatusBarWidget" order="after readOnlyWidget, before fatalErrorWidget" />
    <applicationConfigurable groupId="language" id="UnrealLinkOptionsId" provider="com.jetbrains.rider.settings.UnrealLinkSettingsConfigurableProvider" />
    <consoleActionsPostProcessor implementation="com.jetbrains.rider.plugins.unreal.UnrealPaneConsoleActionsPostProcessor" />
  </extensions>

  <actions>
    <group id="UnrealInteractionToolbar">
      <group id="RiderLink.UnrealPlaySettings" popup="true" icon="AllIcons.General.GearPlain" class="com.jetbrains.rider.plugins.unreal.actions.PlaySettings">
        <group id="RiderLink.NumberOfPlayers" popup="true" text="Number of Players" class="com.jetbrains.rider.plugins.unreal.actions.PlaySubsettings">
          <action id="RiderLink.OnePlayer" class="com.jetbrains.rider.plugins.unreal.actions.NumberOfPlayers" text="1"/>
          <action id="RiderLink.TwoPlayers" class="com.jetbrains.rider.plugins.unreal.actions.NumberOfPlayers" text="2"/>
          <action id="RiderLink.ThreePlayers" class="com.jetbrains.rider.plugins.unreal.actions.NumberOfPlayers" text="3"/>
          <action id="RiderLink.FourPlayers" class="com.jetbrains.rider.plugins.unreal.actions.NumberOfPlayers" text="4"/>
        </group>
        <group id="RiderLink.SpawnPlayerAt" popup="true" text="Spawn Player at..." class="com.jetbrains.rider.plugins.unreal.actions.PlaySubsettings">
          <action id="RiderLink.CurrentCamLoc" class="com.jetbrains.rider.plugins.unreal.actions.SpawnPlayer" text="Current Camera Location"/>
          <action id="RiderLink.DefaultPlayerStart" class="com.jetbrains.rider.plugins.unreal.actions.SpawnPlayer" text="Default Player Start"/>
        </group>
        <group id="RiderLink.Modes" popup="true" text="Mode" class="com.jetbrains.rider.plugins.unreal.actions.PlaySubsettings">
          <action id="RiderLink.SelectedViewport" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="Selected Viewport"/>
          <action id="RiderLink.MobilePreview" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="Mobile Preview"/>
          <action id="RiderLink.NewEditorWindow" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="New Editor Window"/>
          <action id="RiderLink.VRPreview" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="VR Preview"/>
          <action id="RiderLink.StandaloneGame" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="Standalone Game"/>
          <action id="RiderLink.Simulate" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="Simulate"/>
          <action id="RiderLink.VulkanPreview" class="com.jetbrains.rider.plugins.unreal.actions.PlayMode" text="Vulkan Preview"/>
        </group>
        <action id="RiderLink.DedicatedServer" class="com.jetbrains.rider.plugins.unreal.actions.DedicatedServer" text="Run Dedicated Server"/>
        <action id="RiderLink.CompileBeforeRun" class="com.jetbrains.rider.plugins.unreal.actions.CompileBeforeRun" text="Compile Before Play"/>
      </group>
      <action id="RiderLink.StartUnreal" class="com.jetbrains.rider.plugins.unreal.actions.PlayInUnrealAction"/>
      <action id="RiderLink.PauseUnreal" class="com.jetbrains.rider.plugins.unreal.actions.PauseInUnrealAction"/>
      <action id="RiderLink.StopUnreal" class="com.jetbrains.rider.plugins.unreal.actions.StopInUnrealAction"/>
      <add-to-group group-id="ToolbarRunGroup" anchor="first"/>
    </group>

    <action id="UnrealLink.InstallEditorPluginToEngineAction"
            class="com.jetbrains.rider.plugins.unreal.actions.InstallEditorPluginToEngineAction"
            text="Install Unreal Editor Plugin in Engine" />
    <action id="UnrealLink.InstallEditorPluginToGameAction"
            class="com.jetbrains.rider.plugins.unreal.actions.InstallEditorPluginToGameAction"
            text="Install Unreal Editor Plugin in Game" />
    <action id="UnrealLink.EnableAutoUpdatePlugin"
            class="com.jetbrains.rider.plugins.unreal.actions.EnableAutoUpdatePlugin"
            text="Enable Auto-Update" />
  </actions>
</idea-plugin>
